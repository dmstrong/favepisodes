{"version":3,"sources":["Store.js","HomePage.jsx","FavPage.jsx","index.js","App.jsx"],"names":["Store","React","createContext","initialState","episodes","favorites","reducer","state","action","type","payload","EpisodesList","lazy","HomePage","useContext","dispatch","props","toggleFavAction","episode","episodeInFavorites","includes","dispatchObj","filter","fav","id","useEffect","length","a","async","fetch","data","json","dataJSON","_embedded","fetchDataAction","Fragment","Suspense","fallback","className","FavPage","ReactDOM","render","useReducer","value","Provider","children","to","path","document","getElementById"],"mappings":"yOAEaA,EAAQC,IAAMC,gBAErBC,EAAe,CACnBC,SAAU,GACVC,UAAW,IAGb,SAASC,EAAQC,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,aACH,OAAO,eAAKF,EAAZ,CAAmBH,SAAUI,EAAOE,UACtC,IAAK,UACH,OAAO,eACFH,EADL,CAEEF,UAAU,GAAD,mBAAME,EAAMF,WAAZ,CAAuBG,EAAOE,YAE3C,IAAK,aACH,OAAO,eACFH,EADL,CAEEF,UAAWG,EAAOE,UAEtB,QACE,OAAOH,G,2BCrBPI,EAAeV,IAAMW,MAAK,kBAAM,gCAEvB,SAASC,IAAY,IAAD,EACLZ,IAAMa,WAAWd,GAArCO,EADyB,EACzBA,MAAOQ,EADkB,EAClBA,SA+BTC,EAAQ,CACZZ,SAAUG,EAAMH,SAChBa,gBA/BsB,SAAAC,GACtB,IAAMC,EAAqBZ,EAAMF,UAAUe,SAASF,GAChDG,EAAc,CAChBZ,KAAM,UACNC,QAASQ,GAEPC,IAIFE,EAAc,CACZZ,KAAM,aACNC,QAL8BH,EAAMF,UAAUiB,QAC9C,SAAAC,GAAG,OAAIA,EAAIC,KAAON,EAAQM,QAO9B,OAAOT,EAASM,IAiBhBhB,UAAWE,EAAMF,WAOnB,OAJAJ,IAAMwB,WAAU,WACY,IAA1BlB,EAAMH,SAASsB,QAlBO,qBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACHE,MACjB,mFAFoB,cAChBC,EADgB,kBAAAH,EAAA,MAICG,EAAKC,QAJN,cAIhBC,EAJgB,yBAKfjB,EAAS,CACdN,KAAM,aACNC,QAASsB,EAASC,UAAU7B,YAPR,qCAkBS8B,MAI/B,kBAAC,IAAMC,SAAP,KACE,kBAAC,IAAMC,SAAP,CAAgBC,SAAU,4CACxB,6BAASC,UAAU,kBACjB,kBAAC3B,EAAiBK,MCjD5B,IAAML,EAAeV,IAAMW,MAAK,kBAAM,gCAEvB,SAAS2B,IAAW,IAAD,EACJtC,IAAMa,WAAWd,GAArCO,EADwB,EACxBA,MAAOQ,EADiB,EACjBA,SAoBTC,EAAQ,CACZZ,SAAUG,EAAMF,UAChBY,gBApBsB,SAAAC,GACtB,IAAMC,EAAqBZ,EAAMF,UAAUe,SAASF,GAChDG,EAAc,CAChBZ,KAAM,UACNC,QAASQ,GAEPC,IAIFE,EAAc,CACZZ,KAAM,aACNC,QAL8BH,EAAMF,UAAUiB,QAC9C,SAAAC,GAAG,OAAIA,EAAIC,KAAON,EAAQM,QAO9B,OAAOT,EAASM,IAMhBhB,UAAWE,EAAMF,WAEnB,OACE,kBAAC,IAAM+B,SAAP,CAAgBC,SAAU,4CACxB,yBAAKC,UAAU,kBACb,kBAAC,EAAiBtB,K,MCzB1BwB,IAASC,OACP,mBHmBK,SAAuBzB,GAAQ,IAAD,EACPf,IAAMyC,WAAWpC,EAASH,GADnB,mBAE3BwC,EAAQ,CAAEpC,MAFiB,KAEVQ,SAFU,MAGnC,OACE,kBAACf,EAAM4C,SAAP,CAAgBD,MAAOA,GAAQ3B,EAAM6B,YGvBvC,KACE,mBCFW,SAAa7B,GAAQ,IAC1BT,EAAUN,IAAMa,WAAWd,GAA3BO,MAER,OACE,kBAAC,IAAM4B,SAAP,KACE,4BAAQG,UAAU,UAChB,6BACE,mDACA,2DAEF,6BACE,kBAAC,IAAD,CAAMQ,GAAG,KAAT,aACA,kBAAC,IAAD,CAAMA,GAAG,SAAT,gBAA+BvC,EAAMF,UAAUqB,SAEjD,kBAAC,IAAD,KACE,kBAACb,EAAD,CAAUkC,KAAK,MACf,kBAACR,EAAD,CAASQ,KAAK,YAGjB/B,EAAM6B,YDjBT,OAEFG,SAASC,eAAe,W","file":"static/js/main.4a507670.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Store = React.createContext();\n\nconst initialState = {\n  episodes: [],\n  favorites: []\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_DATA':\n      return { ...state, episodes: action.payload };\n    case 'ADD_FAV':\n      return {\n        ...state,\n        favorites: [...state.favorites, action.payload]\n      };\n    case 'REMOVE_FAV':\n      return {\n        ...state,\n        favorites: action.payload\n      };\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    const value = { state, dispatch };\n  return (\n    <Store.Provider value={value}>{props.children}</Store.Provider>\n  );\n}","import React from 'react';\nimport { Store } from './Store';\n\nconst EpisodesList = React.lazy(() => import('./EpisodesList'));\n\nexport default function HomePage() {\n  const { state, dispatch } = React.useContext(Store);\n\n  const toggleFavAction = episode => {\n    const episodeInFavorites = state.favorites.includes(episode);\n    let dispatchObj = {\n      type: 'ADD_FAV',\n      payload: episode\n    };\n    if (episodeInFavorites) {\n      const favoritesWithoutEpisode = state.favorites.filter(\n        fav => fav.id !== episode.id\n      );\n      dispatchObj = {\n        type: 'REMOVE_FAV',\n        payload: favoritesWithoutEpisode\n      };\n    }\n    return dispatch(dispatchObj);\n  };\n\n  const fetchDataAction = async () => {\n    const data = await fetch(\n      'https://api.tvmaze.com/singlesearch/shows?q=the-big-bang-theory&embed=episodes'\n    );\n    const dataJSON = await data.json();\n    return dispatch({\n      type: 'FETCH_DATA',\n      payload: dataJSON._embedded.episodes\n    });\n  };\n\n  const props = {\n    episodes: state.episodes,\n    toggleFavAction: toggleFavAction,\n    favorites: state.favorites\n  };\n\n  React.useEffect(() => {\n    state.episodes.length === 0 && fetchDataAction();\n  });\n\n  return (\n    <React.Fragment>\n      <React.Suspense fallback={<div>Loading...</div>}>\n        <section className=\"episode-layout\">\n          <EpisodesList {...props} />\n        </section>\n      </React.Suspense>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { Store } from './Store';\nconst EpisodesList = React.lazy(() => import('./EpisodesList'));\n\nexport default function FavPage() {\n  const { state, dispatch } = React.useContext(Store);\n\n  const toggleFavAction = episode => {\n    const episodeInFavorites = state.favorites.includes(episode);\n    let dispatchObj = {\n      type: 'ADD_FAV',\n      payload: episode\n    };\n    if (episodeInFavorites) {\n      const favoritesWithoutEpisode = state.favorites.filter(\n        fav => fav.id !== episode.id\n      );\n      dispatchObj = {\n        type: 'REMOVE_FAV',\n        payload: favoritesWithoutEpisode\n      };\n    }\n    return dispatch(dispatchObj);\n  };\n\n  const props = {\n    episodes: state.favorites,\n    toggleFavAction: toggleFavAction,\n    favorites: state.favorites\n  };\n  return (\n    <React.Suspense fallback={<div>Loading...</div>}>\n      <div className=\"episode-layout\">\n        <EpisodesList {...props} />\n      </div>\n    </React.Suspense>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { StoreProvider } from './Store';\n\nimport './index.css';\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);","import React from 'react';\nimport { Store } from './Store';\nimport { Router, Link } from '@reach/router';\n\nimport HomePage from './HomePage';\nimport FavPage from './FavPage';\n\n\nexport default function App(props) {\n  const { state } = React.useContext(Store);\n\n  return (\n    <React.Fragment>\n      <header className=\"header\">\n        <div>\n          <h1>The Big Bang Theory</h1>\n          <p>Pick your favorite episodes</p>\n        </div>\n        <div>\n          <Link to=\"/\">Homepages</Link>\n          <Link to=\"faves\">Favorite(s): {state.favorites.length}</Link>\n        </div>\n        <Router>\n          <HomePage path=\"/\" />\n          <FavPage path=\"faves\" />\n        </Router>\n      </header>\n      {props.children}\n    </React.Fragment>\n  );\n}\n\n"],"sourceRoot":""}