{"version":3,"sources":["Store.js","HomePage.jsx","FavPage.jsx","index.js","App.jsx"],"names":["Store","React","createContext","initialState","episodes","favorites","reducer","state","action","type","payload","EpisodesList","lazy","ReactDOM","render","props","useReducer","value","dispatch","Provider","children","useContext","Fragment","className","to","length","toggleFavAction","episode","episodeInFavorites","includes","dispatchObj","filter","fav","id","useEffect","a","async","fetch","data","json","dataJSON","_embedded","fetchDataAction","Suspense","fallback","path","document","getElementById"],"mappings":"2OAEaA,EAAQC,IAAMC,gBAErBC,EAAe,CACnBC,SAAU,GACVC,UAAW,IAGb,SAASC,EAAQC,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,aACH,OAAO,eAAKF,EAAZ,CAAmBH,SAAUI,EAAOE,UACtC,IAAK,UACH,OAAO,eACFH,EADL,CAEEF,UAAU,GAAD,mBAAME,EAAMF,WAAZ,CAAuBG,EAAOE,YAE3C,IAAK,aACH,OAAO,eACFH,EADL,CAEEF,UAAWG,EAAOE,UAEtB,QACE,OAAOH,G,+BCrBPI,EAAeV,IAAMW,MAAK,kBAAM,gCCDtC,IAAMD,EAAeV,IAAMW,MAAK,kBAAM,gC,kBCUtCC,IAASC,OACP,mBHeK,SAAuBC,GAAQ,IAAD,EACPd,IAAMe,WAAWV,EAASH,GADnB,mBAE3Bc,EAAQ,CAAEV,MAFiB,KAEVW,SAFU,MAGnC,OACE,kBAAClB,EAAMmB,SAAP,CAAgBF,MAAOA,GAAQF,EAAMK,YGnBvC,KACE,mBCVW,SAAaL,GAAQ,IAC1BR,EAAUN,IAAMoB,WAAWrB,GAA3BO,MAER,OACE,kBAAC,IAAMe,SAAP,KACE,kBAAC,IAAD,KACE,4BAAQC,UAAU,UAChB,6BACE,mDACA,2DAEF,6BACE,kBAAC,IAAD,CAAMC,GAAG,KAAT,QACA,kBAAC,IAAD,CAAMA,GAAG,UAAT,eAA+BjB,EAAMF,UAAUoB,UAGlDV,EAAMK,aDNX,KACE,kBAAC,IAAD,KACE,mBFXO,WAAqB,IAAD,EACLnB,IAAMoB,WAAWrB,GAArCO,EADyB,EACzBA,MAAOW,EADkB,EAClBA,SA+BTH,EAAQ,CACZX,SAAUG,EAAMH,SAChBsB,gBA/BsB,SAAAC,GACtB,IAAMC,EAAqBrB,EAAMF,UAAUwB,SAASF,GAChDG,EAAc,CAChBrB,KAAM,UACNC,QAASiB,GAEPC,IAIFE,EAAc,CACZrB,KAAM,aACNC,QAL8BH,EAAMF,UAAU0B,QAC9C,SAAAC,GAAG,OAAIA,EAAIC,KAAON,EAAQM,QAO9B,OAAOf,EAASY,IAiBhBzB,UAAWE,EAAMF,WAOnB,OAJAJ,IAAMiC,WAAU,WACY,IAA1B3B,EAAMH,SAASqB,QAlBO,qBAAAU,EAAAC,OAAA,kEAAAD,EAAA,MACHE,MACjB,mFAFoB,cAChBC,EADgB,kBAAAH,EAAA,MAICG,EAAKC,QAJN,cAIhBC,EAJgB,yBAKftB,EAAS,CACdT,KAAM,aACNC,QAAS8B,EAASC,UAAUrC,YAPR,qCAkBSsC,MAI/B,kBAAC,IAAMpB,SAAP,KACE,kBAAC,IAAMqB,SAAP,CAAgBC,SAAU,4CACxB,6BAASrB,UAAU,kBACjB,kBAACZ,EAAiBI,QEnCpB,CAAU8B,KAAK,MACf,mBDbO,WAAoB,IAAD,EACJ5C,IAAMoB,WAAWrB,GAArCO,EADwB,EACxBA,MAAOW,EADiB,EACjBA,SAoBTH,EAAQ,CACZX,SAAUG,EAAMF,UAChBqB,gBApBsB,SAAAC,GACtB,IAAMC,EAAqBrB,EAAMF,UAAUwB,SAASF,GAChDG,EAAc,CAChBrB,KAAM,UACNC,QAASiB,GAEPC,IAIFE,EAAc,CACZrB,KAAM,aACNC,QAL8BH,EAAMF,UAAU0B,QAC9C,SAAAC,GAAG,OAAIA,EAAIC,KAAON,EAAQM,QAO9B,OAAOf,EAASY,IAMhBzB,UAAWE,EAAMF,WAEnB,OACE,kBAAC,IAAMsC,SAAP,CAAgBC,SAAU,4CACxB,yBAAKrB,UAAU,kBACb,kBAAC,EAAiBR,OChBlB,CAAS8B,KAAK,cAIpBC,SAASC,eAAe,W","file":"static/js/main.707a215d.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Store = React.createContext();\n\nconst initialState = {\n  episodes: [],\n  favorites: []\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_DATA':\n      return { ...state, episodes: action.payload };\n    case 'ADD_FAV':\n      return {\n        ...state,\n        favorites: [...state.favorites, action.payload]\n      };\n    case 'REMOVE_FAV':\n      return {\n        ...state,\n        favorites: action.payload\n      };\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    const value = { state, dispatch };\n  return (\n    <Store.Provider value={value}>{props.children}</Store.Provider>\n  );\n}","import React from 'react';\nimport { Store } from './Store';\n\nconst EpisodesList = React.lazy(() => import('./EpisodesList'));\n\nexport default function HomePage() {\n  const { state, dispatch } = React.useContext(Store);\n\n  const toggleFavAction = episode => {\n    const episodeInFavorites = state.favorites.includes(episode);\n    let dispatchObj = {\n      type: 'ADD_FAV',\n      payload: episode\n    };\n    if (episodeInFavorites) {\n      const favoritesWithoutEpisode = state.favorites.filter(\n        fav => fav.id !== episode.id\n      );\n      dispatchObj = {\n        type: 'REMOVE_FAV',\n        payload: favoritesWithoutEpisode\n      };\n    }\n    return dispatch(dispatchObj);\n  };\n\n  const fetchDataAction = async () => {\n    const data = await fetch(\n      'https://api.tvmaze.com/singlesearch/shows?q=the-big-bang-theory&embed=episodes'\n    );\n    const dataJSON = await data.json();\n    return dispatch({\n      type: 'FETCH_DATA',\n      payload: dataJSON._embedded.episodes\n    });\n  };\n\n  const props = {\n    episodes: state.episodes,\n    toggleFavAction: toggleFavAction,\n    favorites: state.favorites\n  };\n\n  React.useEffect(() => {\n    state.episodes.length === 0 && fetchDataAction();\n  });\n\n  return (\n    <React.Fragment>\n      <React.Suspense fallback={<div>Loading...</div>}>\n        <section className=\"episode-layout\">\n          <EpisodesList {...props} />\n        </section>\n      </React.Suspense>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { Store } from './Store';\nconst EpisodesList = React.lazy(() => import('./EpisodesList'));\n\nexport default function FavPage() {\n  const { state, dispatch } = React.useContext(Store);\n\n  const toggleFavAction = episode => {\n    const episodeInFavorites = state.favorites.includes(episode);\n    let dispatchObj = {\n      type: 'ADD_FAV',\n      payload: episode\n    };\n    if (episodeInFavorites) {\n      const favoritesWithoutEpisode = state.favorites.filter(\n        fav => fav.id !== episode.id\n      );\n      dispatchObj = {\n        type: 'REMOVE_FAV',\n        payload: favoritesWithoutEpisode\n      };\n    }\n    return dispatch(dispatchObj);\n  };\n\n  const props = {\n    episodes: state.favorites,\n    toggleFavAction: toggleFavAction,\n    favorites: state.favorites\n  };\n  return (\n    <React.Suspense fallback={<div>Loading...</div>}>\n      <div className=\"episode-layout\">\n        <EpisodesList {...props} />\n      </div>\n    </React.Suspense>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { StoreProvider } from './Store';\n\nimport HomePage from './HomePage';\nimport FavPage from './FavPage';\nimport { Router } from '@reach/router';\n\nimport './index.css';\n\nReactDOM.render(\n  <StoreProvider>\n    <App>\n      <Router>\n        <HomePage path=\"/\" />\n        <FavPage path=\"/faves\" />\n    </Router>\n      </App>\n  </StoreProvider>,\n  document.getElementById('root')\n);","import React from 'react';\nimport { Store } from './Store';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nexport default function App(props) {\n  const { state } = React.useContext(Store);\n\n  return (\n    <React.Fragment>\n      <Router>\n        <header className=\"header\">\n          <div>\n            <h1>The Big Bang Theory</h1>\n            <p>Pick your favorite episodes</p>\n          </div>\n          <div>\n            <Link to=\"/\">Home</Link>\n            <Link to=\"/faves\">Favorite(s) {state.favorites.length}</Link>\n          </div>\n        </header>\n        {props.children}\n      </Router>\n    </React.Fragment>\n  );\n}\n"],"sourceRoot":""}